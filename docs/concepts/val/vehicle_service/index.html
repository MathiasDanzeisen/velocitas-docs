<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.98.0" />
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/velocitas-docs/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/velocitas-docs/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/velocitas-docs/favicons/android-192x192.png" sizes="192x192">

<title>Vehicle Service | Velocitas</title>
<meta name="description" content="
How to create a vehicle service

Motivation
Overview
Define a service interface

Semantic model
Interface technology and programming languages â€¦">
<meta property="og:title" content="Vehicle Service" />
<meta property="og:description" content="How to create a vehicle service  Motivation Overview Define a service interface  Semantic model Interface technology and programming languages Interface guideline Error codes   Implement a vehicle service  Examples Responsibility Connection status   Add Dapr support to the vehicle service  Metadata Connection status with Dapr   Interaction with the vehicle data broker (optional) Next steps  Vehicle Apps SDK documentation Vehicle App development      How to create a vehicle service Motivation Vehicle services abstract complex behavior of the vehicle." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/velocitas-docs/docs/concepts/val/vehicle_service/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2022-05-09T14:24:56+05:30" />
<meta property="article:modified_time" content="2022-07-06T12:28:55+02:00" />

<meta itemprop="name" content="Vehicle Service">
<meta itemprop="description" content="How to create a vehicle service  Motivation Overview Define a service interface  Semantic model Interface technology and programming languages Interface guideline Error codes   Implement a vehicle service  Examples Responsibility Connection status   Add Dapr support to the vehicle service  Metadata Connection status with Dapr   Interaction with the vehicle data broker (optional) Next steps  Vehicle Apps SDK documentation Vehicle App development      How to create a vehicle service Motivation Vehicle services abstract complex behavior of the vehicle."><meta itemprop="datePublished" content="2022-05-09T14:24:56+05:30" />
<meta itemprop="dateModified" content="2022-07-06T12:28:55+02:00" />
<meta itemprop="wordCount" content="1030">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vehicle Service"/>
<meta name="twitter:description" content="How to create a vehicle service  Motivation Overview Define a service interface  Semantic model Interface technology and programming languages Interface guideline Error codes   Implement a vehicle service  Examples Responsibility Connection status   Add Dapr support to the vehicle service  Metadata Connection status with Dapr   Interaction with the vehicle data broker (optional) Next steps  Vehicle Apps SDK documentation Vehicle App development      How to create a vehicle service Motivation Vehicle services abstract complex behavior of the vehicle."/>




<link rel="preload" href="/velocitas-docs/scss/main.min.1787fbd823742349458dc810c75b4ea9377ed7cae21c8fc39a9834bf5417cab5.css" as="style">
<link href="/velocitas-docs/scss/main.min.1787fbd823742349458dc810c75b4ea9377ed7cae21c8fc39a9834bf5417cab5.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-130444728-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/velocitas-docs/">
		<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" width="8.5in" height="11in" style="shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd" viewBox="0 0 8500 11e3" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xodm="http://www.corel.com/coreldraw/odm/2003"><defs><style>.fil5{fill:#24b2e4}.fil4{fill:#2e95c9}.fil3{fill:#2477b6}.fil2{fill:#2c5aa0}.fil1{fill:#364b95}.fil0{fill:url(#id0);fill-rule:nonzero}</style><linearGradient id="id0" gradientUnits="userSpaceOnUse" x1="3149.43" y1="5635.59" x2="7771.94" y2="5635.59"><stop offset="0" style="stop-opacity:1;stop-color:#2B6FB5"/><stop offset=".870588" style="stop-opacity:1;stop-color:#7DC5ED"/><stop offset=".988235" style="stop-opacity:1;stop-color:#7DC5ED"/><stop offset="1" style="stop-opacity:1;stop-color:#7DC5ED"/></linearGradient></defs><g id="Layer_x0020_1"><path class="fil0" d="M3395.11 6027.9h147.19l246.79-709.92h-116.2l-203.63 611.98-205.28-611.98h-114.54l245.68 709.92zm968.32-244.57v-170.98c0-99.6-76.36-154.37-183.7-154.37h-131.69c-107.35.0-183.7 54.78-183.7 154.37v261.17c0 99.6 76.36 154.38 183.7 154.38h315.39v-82.44h-353.02c-28.22.0-37.63-18.26-37.63-47.59v-114.54h390.65zm-108.45-83h-282.2v-112.88c0-22.13 9.41-47.03 37.63-47.03h206.94c28.22.0 37.63 24.9 37.63 47.03v112.88zm258.95 327.57h108.45v-784.62h-108.45v784.62zm760.83-415.55c0-99.6-65.29-154.37-171.53-154.37h-158.81c-106.24.0-172.09 54.78-172.09 154.37v261.17c0 99.6 65.85 154.38 172.09 154.38h158.81c106.24.0 171.53-54.78 171.53-154.38v-261.17zm-393.97 275.01v-288.84c0-42.06 12.17-58.1 48.69-58.1h188.69c36.52.0 48.14 16.04 48.14 58.1v288.84c0 41.5-11.62 58.1-48.14 58.1h-188.69c-36.52.0-48.69-16.6-48.69-58.1zm631.35.0v-288.84c0-42.06 11.62-58.1 48.14-58.1h272.79v-82.44h-256.19c-107.35.0-173.19 54.78-173.19 154.37v261.17c0 99.6 65.85 154.38 173.19 154.38h256.19v-82.44h-272.79c-36.52.0-48.14-16.6-48.14-58.1zm460.93 140.54h107.9v-569.93h-107.9v569.93zM5962 5362.25h130.03v-118.97H5962v118.97zm621.94 178.17v-82.44h-168.76v-139.99h-76.36l-32.09 139.99h-85.77v82.44h85.77v332c0 96.28 54.78 155.48 180.39 155.48h96.83v-82.44h-120.63c-41.5.0-48.14-21.58-48.14-61.42v-343.61h168.76zm107.35 333.1c0 99.6 65.3 154.38 172.64 154.38h33.2c83.56.0 143.87-2.21 169.87-65.29v65.29h107.35v-415.55c0-99.6-76.36-154.37-183.71-154.37h-241.8v82.44h280.54c27.67.0 37.63 18.26 37.63 47.03v95.72h-203.07c-107.35.0-172.64 54.78-172.64 154.93v35.41zm108.45 13.83v-63.63c0-39.29 10.52-55.89 42.61-57.55H7067v141.65c-3.32 26.56-13.28 37.63-43.16 37.63h-175.96c-36.52.0-48.14-16.6-48.14-58.1zm863.75 27.67c0 22.69-11.62 30.43-48.14 30.43H7324.3v82.44h275c107.35.0 172.64-54.78 172.64-154.38v-40.94c0-68.61-47.03-90.19-146.63-113.99-80.78-19.37-101.26-26.56-203.07-51.46v-96.83c0-22.13 11.62-29.88 48.14-29.88h282.2v-82.44h-266.15c-107.34.0-172.64 54.78-172.64 154.37v37.63c0 64.19 43.71 89.08 132.8 109.56 106.8 24.9 151.61 36.52 216.91 50.35v105.13z"/><path class="fil1" d="M728.06 5018.07c722.09-309.86 1087.3 423.3 1320.24 889.75 88.54 177.62 156.59 313.19 195.88 317.61 67.5 8.3 132.24-294.37 240.7-1228.94l85.77 7.19c-115.65 992.67-209.16 1311.39-337.53 1296.45-87.98-10.51-163.79-162.68-263.39-362.43-219.12-438.78-562.74-1127.13-1203.49-852.12l-38.18-67.51z"/><path class="fil2" d="M900.14 4963.85c686.68-298.8 1022 350.81 1244.44 781.3 87.43 168.77 155.49 301.01 202.52 309.31 74.7 12.17 156.04-257.3 299.35-1107.76l85.22 10.51c-153.28 909.67-266.15 1193.53-400.61 1170.84-90.74-15.49-167.11-163.23-265.04-352.47-208.05-402.26-521.24-1008.72-1127.13-744.78l-38.73-66.95z"/><path class="fil3" d="M1056.18 4905.75c651.27-287.18 957.26 282.2 1168.63 675.61 85.21 158.25 153.27 285.52 207.5 298.24 82.45 18.81 180.94-216.35 359.11-986.03l84.66 14.39c-192.56 828.88-324.8 1076.78-465.35 1044.13-93.51-21.58-169.32-163.23-263.94-339.19-195.88-364.64-479.74-892.52-1051.88-640.2l-38.73-66.95z"/><path class="fil4" d="M1238.22 4844.88c616.96-276.66 894.18 216.35 1094.49 572.7 80.79 144.42 148.29 263.94 209.16 282.75 90.19 28.22 205.29-171.53 421.09-863.74l83.55 19.37c-234.61 751.97-386.78 961.13-533.96 915.2-93.51-29.33-167.66-161.57-257.3-320.93-183.71-327.57-438.79-780.75-977.74-538.39l-39.29-66.95z"/><path class="fil5" d="M1406.99 4784.02c583.76-266.7 832.76 153.83 1020.89 471.99 75.25 127.27 139.99 236.83 205.28 263.38 99.05 40.94 231.85-120.07 489.15-740.91l80.79 25.45c-281.65 680.59-453.73 847.15-607 783.51-91.3-37.63-162.13-157.7-244.57-297.13-171.54-289.39-397.85-671.74-904.7-439.9l-39.84-66.4z"/></g></svg></span><span class="font-weight-bold">Velocitas</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/velocitas-docs/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/velocitas-docs/community/" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/eclipse-velocitas" target="_blank" ><span>GitHub</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this siteâ€¦"
  aria-label="Search this siteâ€¦"
  autocomplete="off"
  
  data-offline-search-index-json-src="/velocitas-docs/offline-search-index.f4364463bccdce1898306526be46e0c5.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <div id="content-mobile">
  <form class="td-sidebar__search d-flex align-items-center">
    <input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this siteâ€¦"
  aria-label="Search this siteâ€¦"
  autocomplete="off"
  
  data-offline-search-index-json-src="/velocitas-docs/offline-search-index.f4364463bccdce1898306526be46e0c5.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  </div>
  <div id="content-desktop"></div>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-velocitas-docsdocs-li">
  <a href="/velocitas-docs/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-velocitas-docsdocs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-velocitas-docsdocsconcepts-li">
  <input type="checkbox" id="m-velocitas-docsdocsconcepts-check" checked/>
  <label for="m-velocitas-docsdocsconcepts-check"><a href="/velocitas-docs/docs/concepts/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsconcepts"><span class="">Concepts</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsconceptsdevelopment_model-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsdevelopment_model-check"/>
  <label for="m-velocitas-docsdocsconceptsdevelopment_model-check"><a href="/velocitas-docs/docs/concepts/development_model/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsconceptsdevelopment_model"><span class="">Development Model</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsconceptspython_vehicle_app_sdk-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptspython_vehicle_app_sdk-check"/>
  <label for="m-velocitas-docsdocsconceptspython_vehicle_app_sdk-check"><a href="/velocitas-docs/docs/concepts/python_vehicle_app_sdk/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsconceptspython_vehicle_app_sdk"><span class="">Python Vehicle App SDK</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-velocitas-docsdocsconceptsval-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsval-check" checked/>
  <label for="m-velocitas-docsdocsconceptsval-check"><a href="/velocitas-docs/docs/concepts/val/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsconceptsval"><span class="">Vehicle Abstraction Layer (VAL)</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsconceptsvalinterface_guideline-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsvalinterface_guideline-check"/>
  <label for="m-velocitas-docsdocsconceptsvalinterface_guideline-check"><a href="/velocitas-docs/docs/concepts/val/interface_guideline/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocsconceptsvalinterface_guideline"><span class="">Interface Design Guideline</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-velocitas-docsdocsconceptsvalvehicle_service-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsvalvehicle_service-check" checked/>
  <label for="m-velocitas-docsdocsconceptsvalvehicle_service-check"><a href="/velocitas-docs/docs/concepts/val/vehicle_service/" class="align-left pl-0  active td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocsconceptsvalvehicle_service"><span class="td-sidebar-nav-active-item">Vehicle Service</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsconceptsvehicle_app_releases-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsvehicle_app_releases-check"/>
  <label for="m-velocitas-docsdocsconceptsvehicle_app_releases-check"><a href="/velocitas-docs/docs/concepts/vehicle_app_releases/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocsconceptsvehicle_app_releases"><span class="">Build and Release Process</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsconceptsdeployment-model-li">
  <input type="checkbox" id="m-velocitas-docsdocsconceptsdeployment-model-check"/>
  <label for="m-velocitas-docsdocsconceptsdeployment-model-check"><a href="/velocitas-docs/docs/concepts/deployment-model/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocsconceptsdeployment-model"><span class="">Velocitas Deployment Model</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-velocitas-docsdocstutorials-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorials-check"/>
  <label for="m-velocitas-docsdocstutorials-check"><a href="/velocitas-docs/docs/tutorials/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocstutorials"><span class="">Tutorials</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialsquickstart-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialsquickstart-check"/>
  <label for="m-velocitas-docsdocstutorialsquickstart-check"><a href="/velocitas-docs/docs/tutorials/quickstart/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialsquickstart"><span class="">Quickstart</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_model-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_model-check"/>
  <label for="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_model-check"><a href="/velocitas-docs/docs/tutorials/tutorial_how_to_create_a_vehicle_model/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_model"><span class="">Python Vehicle Model Creation</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_app-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_app-check"/>
  <label for="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_app-check"><a href="/velocitas-docs/docs/tutorials/tutorial_how_to_create_a_vehicle_app/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialstutorial_how_to_create_a_vehicle_app"><span class="">Python Vehicle App Development</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-velocitas-docsdocstutorialsvehicle-app-runtime-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialsvehicle-app-runtime-check"/>
  <label for="m-velocitas-docsdocstutorialsvehicle-app-runtime-check"><a href="/velocitas-docs/docs/tutorials/vehicle-app-runtime/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocstutorialsvehicle-app-runtime"><span class="">Run Vehicle App Runtime Services</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_kubernetes-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_kubernetes-check"/>
  <label for="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_kubernetes-check"><a href="/velocitas-docs/docs/tutorials/vehicle-app-runtime/run_runtime_services_kubernetes/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_kubernetes"><span class="">Run runtime services in Kubernetes</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_locally-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_locally-check"/>
  <label for="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_locally-check"><a href="/velocitas-docs/docs/tutorials/vehicle-app-runtime/run_runtime_services_locally/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialsvehicle-app-runtimerun_runtime_services_locally"><span class="">Run runtime services locally</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialsintegration_tests-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialsintegration_tests-check"/>
  <label for="m-velocitas-docsdocstutorialsintegration_tests-check"><a href="/velocitas-docs/docs/tutorials/integration_tests/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialsintegration_tests"><span class="">Vehicle App Integration Testing</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocstutorialstutorial_how_to_deploy_a_vehicle_app_with_helm-li">
  <input type="checkbox" id="m-velocitas-docsdocstutorialstutorial_how_to_deploy_a_vehicle_app_with_helm-check"/>
  <label for="m-velocitas-docsdocstutorialstutorial_how_to_deploy_a_vehicle_app_with_helm-check"><a href="/velocitas-docs/docs/tutorials/tutorial_how_to_deploy_a_vehicle_app_with_helm/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-velocitas-docsdocstutorialstutorial_how_to_deploy_a_vehicle_app_with_helm"><span class="">Vehicle App Deployment with Helm</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-velocitas-docsdocsreference-li">
  <input type="checkbox" id="m-velocitas-docsdocsreference-check"/>
  <label for="m-velocitas-docsdocsreference-check"><a href="/velocitas-docs/docs/reference/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsreference"><span class="">References</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsreferenceseat_adjuster_use_case-li">
  <input type="checkbox" id="m-velocitas-docsdocsreferenceseat_adjuster_use_case-check"/>
  <label for="m-velocitas-docsdocsreferenceseat_adjuster_use_case-check"><a href="/velocitas-docs/docs/reference/seat_adjuster_use_case/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsreferenceseat_adjuster_use_case"><span class="">Example Use Case</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocsreferencerepository-overview-li">
  <input type="checkbox" id="m-velocitas-docsdocsreferencerepository-overview-check"/>
  <label for="m-velocitas-docsdocsreferencerepository-overview-check"><a href="/velocitas-docs/docs/reference/repository-overview/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocsreferencerepository-overview"><span class="">Repository Overview</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-velocitas-docsdocscontribution-guidelines-li">
  <input type="checkbox" id="m-velocitas-docsdocscontribution-guidelines-check"/>
  <label for="m-velocitas-docsdocscontribution-guidelines-check"><a href="/velocitas-docs/docs/contribution-guidelines/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-velocitas-docsdocscontribution-guidelines"><span class="">Contribution Guidelines</span></a></label>
  
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/eclipse-velocitas/velocitas-docs/tree/main/content/en/docs/Concepts/val/vehicle_service.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> View page source</a>
  <a href="https://github.com/eclipse-velocitas/velocitas-docs/edit/main/content/en/docs/Concepts/val/vehicle_service.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
  <a href="https://github.com/eclipse-velocitas/velocitas-docs/new/main/content/en/docs/Concepts/val/vehicle_service.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Create child page</a>
  <a href="https://github.com/eclipse-velocitas/velocitas-docs/issues/new?title=Vehicle%20Service" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/eclipse-velocitas/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
  <a id="print" href="/velocitas-docs/docs/concepts/val/_print/"><i class="fa fa-print fa-fw"></i> Print entire section</a>

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#motivation">Motivation</a></li>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#define-a-service-interface">Define a service interface</a>
      <ul>
        <li><a href="#semantic-model">Semantic model</a></li>
        <li><a href="#interface-technology-and-programming-languages">Interface technology and programming languages</a></li>
        <li><a href="#interface-guideline">Interface guideline</a></li>
        <li><a href="#error-codes">Error codes</a></li>
      </ul>
    </li>
    <li><a href="#implement-a-vehicle-service">Implement a vehicle service</a>
      <ul>
        <li><a href="#examples">Examples</a></li>
        <li><a href="#responsibility">Responsibility</a></li>
        <li><a href="#connection-status">Connection status</a></li>
      </ul>
    </li>
    <li><a href="#add-dapr-support-to-the-vehicle-service">Add Dapr support to the vehicle service</a>
      <ul>
        <li><a href="#metadata">Metadata</a></li>
        <li><a href="#connection-status-with-dapr">Connection status with Dapr</a></li>
      </ul>
    </li>
    <li><a href="#interaction-with-the-vehicle-data-broker-optional">Interaction with the vehicle data broker (optional)</a></li>
    <li><a href="#next-steps">Next steps</a>
      <ul>
        <li><a href="#vehicle-apps-sdk-documentation">Vehicle Apps SDK documentation</a></li>
        <li><a href="#vehicle-app-development">Vehicle App development</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		
			
				
			
			



  
  

		
			
				
			
			



  
  

		
	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/velocitas-docs/docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item">
    <a href="/velocitas-docs/docs/concepts/">Concepts</a>
  </li>
  <li class="breadcrumb-item">
    <a href="/velocitas-docs/docs/concepts/val/">Vehicle Abstraction Layer (VAL)</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="/velocitas-docs/docs/concepts/val/vehicle_service/" aria-disabled="true" class="btn-link disabled">Vehicle Service</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Vehicle Service</h1>
	
	<header class="article-meta">
		

  
    
      


    
      


    
  

		
	</header>    
	<ul>
<li><a href="#how-to-create-a-vehicle-service">How to create a vehicle service</a>
<ul>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#define-a-service-interface">Define a service interface</a>
<ul>
<li><a href="#semantic-model">Semantic model</a></li>
<li><a href="#interface-technology-and-programming-languages">Interface technology and programming languages</a></li>
<li><a href="#interface-guideline">Interface guideline</a></li>
<li><a href="#error-codes">Error codes</a></li>
</ul>
</li>
<li><a href="#implement-a-vehicle-service">Implement a vehicle service</a>
<ul>
<li><a href="#examples">Examples</a></li>
<li><a href="#responsibility">Responsibility</a></li>
<li><a href="#connection-status">Connection status</a></li>
</ul>
</li>
<li><a href="#add-dapr-support-to-the-vehicle-service">Add Dapr support to the vehicle service</a>
<ul>
<li><a href="#metadata">Metadata</a></li>
<li><a href="#connection-status-with-dapr">Connection status with Dapr</a></li>
</ul>
</li>
<li><a href="#interaction-with-the-vehicle-data-broker-optional">Interaction with the vehicle data broker (optional)</a></li>
<li><a href="#next-steps">Next steps</a>
<ul>
<li><a href="#vehicle-apps-sdk-documentation">Vehicle Apps SDK documentation</a></li>
<li><a href="#vehicle-app-development">Vehicle App development</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="how-to-create-a-vehicle-service">How to create a vehicle service</h1>
<h2 id="motivation">Motivation</h2>
<p>Vehicle services abstract complex behavior of the vehicle. They abstract the differences in electric and electronic architecture of vehicles from different brands and models to a common interface, which is aligned to a harmonized semantic model. A <em>Vehicle App</em> developer interacts with the vehicle abstraction layer components via the SDK. The SDK and the VAL components are aligned via the interface description, which is derived from the semantic model.</p>
<h2 id="overview">Overview</h2>
<p>Following steps are needed to create a vehicle service:</p>
<ul>
<li>Define a service interface</li>
<li>Implement the service</li>
<li>Add support for <a href="https://dapr.io">Dapr</a> middleware</li>
<li>(optional) Implement simulation</li>
<li>(optional) Interaction with the vehicle data broker</li>
</ul>
<h2 id="define-a-service-interface">Define a service interface</h2>
<h3 id="semantic-model">Semantic model</h3>
<p>The service interface of the vehicle service which abstracts the vehicle behavior, should be aligned to the semantic model. The <a href="https://github.com/COVESA/vehicle_service_catalog">VEHICLE SERVICE CATALOG</a> can be used as the semantic model for a service call.</p>
<h3 id="interface-technology-and-programming-languages">Interface technology and programming languages</h3>
<p>The interface technology used for remote procedure calls is <a href="https://grpc.io/">gGRPC</a>. The methods and datatypes are first defined in a *.proto file, which is then used to generate client and server stubs/skeletons in <a href="https://grpc.io/docs/languages/">different languages</a>.</p>
<p>How to use the interface and generate code can be read e.g., here: <a href="https://grpc.io/docs/languages/cpp/basics/">Basics tutorial for gRPC in C++</a> or <a href="https://grpc.io/docs/languages/python/basics/">Basics tutorial for gRPC in Python</a>.</p>
<h3 id="interface-guideline">Interface guideline</h3>
<p>The <a href="interface_guideline.md">gRPC interface guideline</a> provides you with help on how to specify the service interface.</p>
<h3 id="error-codes">Error codes</h3>
<p>The error codes and recommended usage is described in <a href="/docs/val/interface_guideline/#error-handling">Error Handling</a>. The errors implemented should be described in the gRPC interface description files (*.proto).</p>
<h2 id="implement-a-vehicle-service">Implement a vehicle service</h2>
<h3 id="examples">Examples</h3>
<p>For help on how to implement the vehicle service, see the example seat service or the <a href="https://github.com/grpc/grpc/tree/master/examples">gRPC examples</a> in different languages.</p>
<h3 id="responsibility">Responsibility</h3>
<p>A vehicle service &hellip;</p>
<ul>
<li>Can provide service interfaces to control actuators or to trigger (complex) actions</li>
<li>Can provide service interfaces to get data</li>
<li>Uses service interfaces to register and publish data to the data broker</li>
<li>Reconnects to the data broker in case the connection is lost</li>
<li>Uses the service interface of the data broker via Dapr, if deployed</li>
<li>Communicates with a vehicle network, which is connected to real hardware (e.g., CAN interface)</li>
<li>Communicates with a virtual interface (e.g., CAN interface)</li>
<li>(Optional) Provides a simulation mode to run without a network interface</li>
</ul>
<p>A vehicle service implementation ..</p>
<ul>
<li>might be implemented vehicle- or project-specific</li>
</ul>
<h3 id="connection-status">Connection status</h3>
<p>To be able to detect connectivity problems users of a gRPC service, e.g., for <a href="#interaction-with-the-vehicle-data-broker-optional"> feeding data to the data broker</a>, shall preferably monitor the gRPC connection state, see: <a href="https://grpc.github.io/grpc/core/md_doc_connectivity-semantics-and-api.html">gRPC Connectivity Semantics and API </a>.
This can be used to report or log errors if the connection behaves differently than expected.</p>
<h2 id="add-dapr-support-to-the-vehicle-service">Add Dapr support to the vehicle service</h2>
<p>You can use the gRPC proxying feature of Dapr, which allows you to use custom *.proto files/ interfaces instead of the predefined Dapr gRPC interfaces. More can be read at <a href="https://docs.dapr.io/developing-applications/building-blocks/service-invocation/howto-invoke-services-grpc/">How-To: Invoke services using gRPC</a>.</p>
<p>To support Dapr within your vehicle service application ..</p>
<ul>
<li>the gRPC metadata <code>dapr-app-id</code> of the server needs to be specified in the call</li>
<li>the used gRPC port should be configurable at least via the environment variable, use <code>DAPR_GRPC_PORT</code>.</li>
</ul>
<p>A full reference to the Dapr environment variables can be found <a href="https://docs.dapr.io/reference/environment/">here</a>.</p>
<h3 id="metadata">Metadata</h3>
<p>To call the methods of a gRPC server (e.g. register data points on the data broker) via Dapr the gRPC calls need to be extended with metadata.</p>
<p>We recommend that you read the <code>dapr-app-id</code> of the gRPC server either from the command line parameter, environment variable of configuration file instead of hardcoding it, see for Python:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#000">grpc_metadata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;dapr-app-id&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">os</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">environ</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;VEHICLEDATABROKER_DAPR_APP_ID&#34;</span><span style="color:#000;font-weight:bold">)),</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">channel</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">grpc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">insecure_channel</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">databroker_address</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">channel</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">subscribe</span><span style="color:#000;font-weight:bold">(</span> <span style="color:#ce5c00;font-weight:bold">...</span> <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_provider</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">databroker</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">Provider</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">channel</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">grpc_metadata</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>This makes it possible to keep the resulting containerized application independent of the configuration and avoid unnecessary rebuilds.</p>
<h3 id="connection-status-with-dapr">Connection status with Dapr</h3>
<p>In a Dapr environment, evaluating the gRPC connectivity state as described in <a href="#connection-status">connection status</a> is not sufficient. Since the vehicle service communicates via gRPC with the Dapr sidecar application instead with the Dapr server directly, the gRPC communication state is also related to the Dapr side car instead of the server. Additional measures need to be taken to check if the &ldquo;real&rdquo; server is available.
Dapr gRPC proxying is only allowed AFTER the Dapr sidecar is fully initialized. If an app port has been specified when running the Dapr sidecar, the sidecar verifies that the service is listening on the port first as part of the initialization.</p>
<p>The following sequence in vehicle services is recommended:</p>
<ol>
<li>Create a gRPC Server and listen</li>
<li>Wait for the sidecar (e.g., poll health endpoint or sleep )</li>
<li>Execute gRPC proxying calls (e.g., against Vehicle Data Broker)</li>
</ol>
<p>Example: A callback for the connectivity state in conjugation with retry to call the server:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#000">channel</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">grpc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">insecure_channel</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">databroker_address</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">channel</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">subscribe</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">lambda</span> <span style="color:#000">connectivity</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">on_broker_connectivity_change</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">connectivity</span><span style="color:#000;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">try_to_connect</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">False</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">def</span> <span style="color:#000">on_broker_connectivity_change</span><span style="color:#000;font-weight:bold">(</span><span style="color:#3465a4">self</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">connectivity</span><span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000">connectivity</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#000">grpc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ChannelConnectivity</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">READY</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">or</span> <span style="color:#000">connectivity</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#000">grpc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ChannelConnectivity</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">IDLE</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">):</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">## Can change between READY and IDLE. Only act if coming from</span>
</span></span><span style="display:flex;"><span>            <span style="color:#8f5902;font-style:italic">## unconnected state</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#204a87;font-weight:bold">not</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_connected</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">log</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Connected to data broker&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">try</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_register_datapoints</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_registered</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">True</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">except</span> <span style="color:#c00;font-weight:bold">Exception</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">log</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">error</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Failed to register datapoints&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">exc_info</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">True</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_connected</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">True</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_connected</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000">log</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Disconnected from data broker&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">connectivity</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#000">grpc</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">ChannelConnectivity</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">CONNECTING</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#000">log</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">info</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Trying to connect to data broker&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_connected</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">False</span>
</span></span><span style="display:flex;"><span>            <span style="color:#3465a4">self</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">_registered</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">False</span>
</span></span></code></pre></div><p>If the Dapr side car is ready to forward, communication can be checked with the <a href="https://grpc.github.io/grpc/core/md_doc_health-checking.html">GRPC Health Checking Protocol </a>, see also <a href="https://grpc.github.io/grpc/python/grpc_health_checking.html">Python gRPC Health Checking</a>.</p>
<h2 id="interaction-with-the-vehicle-data-broker-optional">Interaction with the vehicle data broker (optional)</h2>
<p>Use the <a href="https://github.com/eclipse/kuksa.val/tree/master/kuksa_databroker/proto">interface description of the vehicle data broker (*.proto files)</a> to publish data to the vehicle data broker. In the <code>collector.proto</code> you find methods to</p>
<ol>
<li>register datapoints <code>RegisterDatapoints</code>, afterwards you can</li>
<li>feed data via single calls <code>UpdateDatapoints</code> or in a stream manner <code>StreamDatapoints</code></li>
</ol>
<p>See the *.proto files for a detailed description.</p>
<h2 id="next-steps">Next steps</h2>
<h3 id="vehicle-apps-sdk-documentation">Vehicle Apps SDK documentation</h3>
<ul>
<li>Concept: <a href="/docs/concepts/python_vehicle_app_sdk_overview.md">Python SDK Overview</a></li>
</ul>
<h3 id="vehicle-app-development">Vehicle App development</h3>
<ul>
<li>Concept: <a href="/docs/concepts/development-model.md">Development Model</a></li>
<li>Tutorial: <a href="/docs/tutorials/tutorial_how_to_create_a_vehicle_model.md">Creating a Python Vehicle Model</a></li>
</ul>

	
	
	<div class="text-muted mt-5 pt-3 border-top">
  Last modified July 6, 2022: <a href="https://github.com/eclipse-velocitas/velocitas-docs/commit/becdf64fa1c8a36b9f4649766a9969dfba74366b">Added Velocitas logo (becdf64)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Eclipse Velocitas Project" aria-label="Eclipse Velocitas Project">
    <a class="text-white" target="_blank" rel="noopener" href="https://projects.eclipse.org/projects/automotive.velocitas" aria-label="Eclipse Velocitas Project">
      <i class="fas fa-external-link-alt"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/eclipse-velocitas" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://accounts.eclipse.org/mailing-list/velocitas-dev" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 The Eclipse Velocityâ„¢ Project. All Rights Reserved.</small>
        
        
      </div>
    </div>
    <div class="row">
      <div class="col-12 text-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org">
        Eclipse Foundation
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/legal/privacy.php">
        Privacy Policy
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/legal/termsofuse.php">
        Terms of Use
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/legal/copyright.php">
        Copyright Agent
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/legal/">
        Legal
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/legal/epl-2.0/">
        License
      </a>
    </small>
  </li>
  
  <li class="list-inline-item mx-2">
    <small class="ml-1">
      <a class="text-footer-menu" target="_blank" rel="noopener" href="https://eclipse.org/security/">
        Report a Vulnerability
      </a>
    </small>
  </li>
  
</ul>

        
        
      </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/velocitas-docs/js/tabpane-persist.js'></script>




















<script src="/velocitas-docs/js/main.min.42193e94c144a53fc86f5be701ff2d0833936ce47504213b8207eb5546a1bcf1.js" integrity="sha256-Qhk&#43;lMFEpT/Ib1vnAf8tCDOTbOR1BCE7ggfrVUahvPE=" crossorigin="anonymous"></script>




  </body>
</html>